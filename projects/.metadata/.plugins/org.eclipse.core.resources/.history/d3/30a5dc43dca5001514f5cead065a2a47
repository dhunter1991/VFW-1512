var gallery = function(){
	var mainImageWindow = Ti.UI.createWindow({
		title: "Gallery",
		backgroundColor: "#0fb213",
	});
	var newImage = Ti.UI.createView({
		backgroundColor: "#000",
		bottom: 0,
		height: 50
	});
	var newImageText = Ti.UI.createLabel({
		text: "Display Random Image",
		left: 20,
		color: "#fff",
		font: {fontSize: 18, fontFamily: "Cochin", fontWeight: "regular", fontStyle: "regular", }
	});	
	    var i = 8;
		var randomImage = Math.floor(Math.random() * i + 1);
		var imageView = Ti.UI.createImageView({
			image: "images/" + imageFiles [randomImage],
			top: newImage.height + 20,
			bottom: 60,
			width: pWidth
		});
	var nextImage = function(){
		var randomImage = Math.floor(Math.random() * i + 1);
		imageView.image = "images/" + imageFiles [randomImage];
		if (i === i){
			i + 1;
			//imageView.image = "images/" + imageFiles [randomImage];
		};
};
	newImage.addEventListener("click", nextImage);
	mainImageWindow.add(imageView);	
	newImage.add(newImageText);
	mainImageWindow.add(newImage);
	navWindow.openWindow(mainImageWindow);
};
var data = function(){
	var dataWindow = Ti.UI.createWindow({
		title: "2015 and 2016 Upcoming Movies",
		backgroundColor: "#9b05c1",
	});
	var dataBorder = Ti.UI.createView({
		backgroundColor: "dbdbdb",
		height: 1,
	});
	var movies = Ti.UI.createTableView({
		top: dataBorder.top + dataBorder.height,
	});
	var actionSection = Ti.UI.createTableViewSection({
		headerTitle: "Action",
		footerTitle: "2015-16"
	});
	dataWindow.add(dataBorder, movies);
	navWindow.openWindow(dataWindow);
	var getDetail = function(){
		var detailWin = Ti.UI.createWindow({
			title: "Upcoming Movies",
			backgroundColor: "#9b05c1"
		});
		var detailTitleView = Ti.UI.createView({
			height:65,
			backgroundColor: "#3c7884",
			top: 0
		});
	
		var detailBorder = Ti.UI.createView({
			backgroundColor: "dbdbdb",
			height: 1,
			top: detailTitleView.height + detailTitleView.top
		});
	
		var detailTitleLabel = Ti.UI.createLabel({
			text: this.title,
			font: {fontSize: 20, fontFamily: "aerial", fontWeight: "bold"},
			top: 30,
			width: "100%",
			textAlign: "center"
		});
	
		var movieText = Ti.UI.createLabel({
			text: this.desc,
			color: "#fff",
			font: {fontsize: 14, fontFamily: "arial", fontWeight: "regular"},
			top: detailBorder.height + detailBorder.top + 300,
			left: 10,
			right: 10
		});
		var movieImage = Ti.UI.createImageView({
			image: "images/" + this.image,
			top: detailTitleView.height,
		});
		var budgetLabel = Ti.UI.createLabel({
			color: "#fff",
			text: this.budget,
			font: {fontSize: 12, fontFamily: "arial", fontWeight: "regular"},
			top: detailTitleView.height+ 230,
			textAllign: "center"
		});
		var view = Ti.UI.createView({
			backgroundColor: "#fff",
			borderRadius: 10,
			borderColor: "black",
		    top: detailTitleView.height + 260,
			left:"25%",
			right:"25%",
			height:30
		});
		var viw = Ti.UI.createView({
			backgroundColor: "#000",
			borderRadius: 10,
			borderColor: "black",
			top: detailTitleView.height + 260,
			left: "25%",
			right: this.budgetView,
			height: 30
		});
		detailTitleView.add(detailTitleLabel);
		view.add(viw);
		detailWin.add(detailTitleView, detailBorder, movieText, movieImage, view, viw, budgetLabel);
		navWindow.openWindow(detailWin);
	};
	
	for(var i=0, j = actions.length; i<j; i++){
	var theRow = Ti.UI.createTableViewRow({
		title: actions[i].title,
		desc: actions[i].description,
		image: actions[i].image,
		actors: actions[i].actors,
		budget: actions[i].budget,
		budgetView: actions[i].budgetView,
		hasChild: true
	});
	actionSection.add(theRow);
	
	theRow.addEventListener("click", getDetail);
	}
	var movieSections = [actionSection];
	movies.setData(movieSections);
};
var custom = function(){
	var customWin = Ti.UI.createWindow({
		backgroundColor: "#0b39be",
		title: "More Information",
		exitOnClose: true,
		layout: "verticle"
	});
	var textField = Ti.UI.createTextField({
 		 borderStyle: Ti.UI.INPUT_BORDERSTYLE_ROUNDED,
 		 color: '#336699',
 		 top: 40, left: 10,
 		 width: 275, height: 40
	});
	var textField2 = Ti.UI.createTextField({
 		 borderStyle: Ti.UI.INPUT_BORDERSTYLE_ROUNDED,
 		 color: '#336699',
 		 top: textField.height + textField.top + 70, left: 10,
 		 width: 275, height: 40
	});
	var textField3 = Ti.UI.createTextField({
 		 borderStyle: Ti.UI.INPUT_BORDERSTYLE_ROUNDED,
 		 color: '#336699',
 		 top: textField2.height + textField2.top + 70, left: 10,
 		 width: 275, height: 40
 	});
 	var name = Ti.UI.createLabel({
 		text: "Please enter your first and last name",
 		color: "#fff",
 		top: 10,
 		left: 10
 	});
 	var catagory = Ti.UI.createLabel({
 		text: "Please enter what you would like to know actors, release date, or director",
 		color: "#fff",
 		top: textField2.height + textField2.top + 20,
 		left: 10
 	});
	var pickMovie = Ti.UI.createLabel({
		text: "Type one of the three movies from details",
		color: "#fff",
		top: textField.height + textField.top + 20,
		left: 10
	});
	var button = Ti.UI.createView({
		backgroundColor: "#000",
		bottom: 0,
		height: 50
	});
	var buttonLabel = Ti.UI.createLabel({
		text: "Submit",
		left: 20,
		color: "#fff",
		font: {fontSize: 18, fontFamily: "Cochin", fontWeight: "regular", fontStyle: "regular", }
	});

button.add(buttonLabel);
customWin.add(textField, textField2, textField3, button, pickMovie, name, catagory);
navWindow.openWindow(customWin);

	var showActors = function(){
	var dataWin = Ti.UI.createWindow({
		backgroundColor: "#0b39be",
		title: "More information About These Upcoming Films"
	});
	var text = Ti.UI.createLabel({
		//text: "movie",
		color: "#fff",
	});
	var textChange = Ti.UI.createLabel({
		//text: "movie",
		color: "#fff",
		top: 20,
		textAllign: "center"
	});
	if(actions[0].title === textField2.value &&"actors" === textField3.value){
		text.text = "Hello " + textField.value + " these are the actors in Now You See Me 2 " + actions[0].actors;
	}else if (actions[0].title === textField2.value && "release date" === textField3.value){
		text.text = "Hello " + textField.value + actions[0].release;
	}else if (actions[0].title === textField2.value && "director" === textField3.value){
		text.text = "Hello " + textField.value + actions[0].director;
	}else if (actions[1].title === textField2.value && "actors" === textField3.value){
		text.text = "Hello " + textField.value + actions[1].actors;
	}else if (actions[1].title === textField2.value && "release date" === textField3.value){
		text.text = "Hello " + textField.value + actions[1].release;
	}else if (actions[1].title === textField2.value && "director" === textField3.value){
		text.text = "Hello " + textField.value + actions[1].director;
	}else if (actions[2].title === textField2.value &&"actors" === textField3.value){
		text.text = "Hello " + textField.value + " these are the actors in Concussion " + actions[2].actors;
	}else if (actions[2].title === textField2.value && "release date" === textField3.value){
		text.text = "Hello " + textField.value + actions[2].release;
	}else if (actions[2].title === textField2.value && "director" === textField3.value){
		text.text = "Hello " + textField.value + actions[2].director;
	};
	
	dataWin.add(text, textChange);
	navWindow.openWindow(dataWin);
	};
	button.addEventListener("click", showActors);
};
customView.addEventListener("click", custom);
dataView.addEventListener("click", data);
imageView.addEventListener("click", gallery);